<!-- Question details or add new question container --><div><ul class="breadcrumb"><li><a ui-sref="secured.main">{{ 'QUESTIONS' | translate }}</a></li><li>{{ 'NEW_QUESTION' | translate }}</li></ul></div><div class="box" xmlns="http://www.w3.org/1999/html"><div class="box-inner"><div class="box-header well"><h2>{{ 'NEW_QUESTION' | translate }}</h2></div><div class="box-content"><div class="row settings-row"><div class="col-sm-4"><label>{{ 'TRANSLATIONS' | translate }}:&nbsp;</label><div class="btn-group btn-group-sm"><label class="btn btn-default" ng-model="questionLangSelect" btn-radio="'FI'">FI</label><label class="btn btn-default" ng-model="questionLangSelect" btn-radio="'EN'">EN</label></div></div></div><div class="row"><div class="col-md-12"><!-- Question information --><form id="questionForm" name="newQuestionForm" class="form-horizontal" role="form" novalidate><div class="row"><div class="col-md-12"><div class="form-group"><label class="col-md-2 control-label" for="question-name">{{ 'QUESTION_NAME' | translate }}:</label><div class="col-md-4"><input type="text" class="form-control" id="question-name" ng-model="questionInfo.NAME" maxlength="100"></div><label class="col-md-2 control-label" for="question-id">ID:</label><div class="col-md-4"><input type="text" class="form-control" id="question-id" ng-model="questionInfo.ID" maxlength="100" disabled="disabled"></div></div><div class="form-group" ng-if="!['FEEDBACK', 'TERMINUS'].includes(questionInfo.TYPE)"><label class="col-md-2 control-label" for="additional-text">{{ 'INSTRUCTION_TEXT' | translate }}:</label><div class="col-md-10"><div text-angular="text-angular" name="additionaltext" id="additional-text" ng-model="questionInfo.ADDITIONALTEXT" ta-disabled="disabled"></div></div></div><div class="form-group"><label class="col-md-2 control-label" for="question-text">{{ 'QUESTION_TEXT' | translate }}:</label><div class="col-md-10"><div text-angular="text-angular" name="questiontext" id="question-text" ng-model="questionInfo.QUESTIONTEXT" ta-disabled="disabled"></div></div></div><div class="form-group"><label class="col-md-2 control-label" for="question-description">{{ 'DESCRIPTION' | translate }}:</label><div class="col-md-10"><textarea class="form-control" id="question-description" ng-model="questionInfo.DESCRIPTION" maxlength="250"></textarea></div></div><div class="form-group"><label class="col-md-2 control-label" for="question-approver">{{ 'APPROVER' | translate }}:</label><div class="col-md-4"><input type="text" class="form-control" id="question-approver" ng-model="questionInfo.USER_APPROVED" disabled="disabled"></div></div><div class="form-group" ng-repeat="(codeKey, code) in questionInfo.CODES"><label class="col-md-2 control-label" for="question-code-{{codeKey}}-system">{{ 'CODE_CLASSIFICATION' | translate }}:</label><div class="col-md-2"><select class="form-control detail-input" id="question-code-{{codeKey}}-system" ng-model="code.SYSTEM_ID" ng-disabled="code.ID !== undefined" convert-to-number><option ng-repeat="system in codeSystems" value="{{system.ID}}">{{system.NAME}}</option></select></div><label class="col-md-2 control-label" for="question-code-{{codeKey}}-value">{{ 'CODE' | translate }}:</label><div class="col-md-2"><input type="text" class="form-control" id="question-code-{{codeKey}}-value" ng-model="code.VALUE" ng-readonly="code.ID !== undefined" list="system-{{code.SYSTEM_ID}}-codes"></div><div class="col-md-2"><button type="button" class="btn btn-sm btn-default" ng-click="removeQuestionCode(code.ID, codeKey)">{{ 'REMOVE' | translate }}</button></div></div><div class="form-group"><div class="col-md-2 col-md-offset-2"><button type="button" class="btn btn-sm btn-blue" ng-click="addQuestionCode()">{{ 'ADD_CODE' | translate }}</button></div></div><!-- Question type --><div class="form-group"><label class="col-md-2 control-label">{{ 'QUESTION_TYPE' | translate }}:</label><div class="col-md-10 radio"><label class="radio-inline" ng-repeat="type in questionTypeOptions track by $index"><input id="{{ type.type }}" type="radio" name="questionTypes" ng-model="questionInfo.TYPE" value="{{ type.type }}" required>{{ type.text }}</label><p ng-if="newQuestionForm.questionTypes.$invalid" class="bg-danger form-validation-error">{{ 'QUESTION_TYPE_VALIDATION_ERROR' | translate }}</p></div></div><!-- Save & return buttons --><div class="row"><div class="col-md-12"><button ng-disabled="newQuestionForm.$invalid" ng-hide="readonlymode" id="save-question-button" type="submit" class="btn btn-default btn-sm btn-blue" ng-click="saveQuestion()">{{ 'SAVE' | translate }}</button> <button type="button" id="return-home-button" class="btn btn-default btn-sm btn-white" ng-click="goHome()">{{ 'RETURN_HOMEPAGE' | translate }}</button></div></div></div></div></form></div></div></div></div></div><datalist ng-repeat="(systemId, codes) in systemCodes" id="system-{{systemId}}-codes"><option ng-repeat="code in codes" value="{{code.VALUE}}"></option></datalist>