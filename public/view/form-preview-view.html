<div class="container" ng-show="PreviewLoaded==false"><div class="col-md-12">{{ 'LOADING_PREVIEW' | translate }} <span class="glyphicon glyphicon-refresh spinning"></span></div></div><div class="container" ng-show="PreviewLoaded==true"><form class="form-horizontal"><div class="form-group"><div class="col-md-offset-4 col-md-8"><h1>{{form.NAME}}</h1></div></div><div class="form-group"><div class="col-md-offset-4 col-md-8" ng-bind-html="form.INTRODUCTION"></div></div><div class="form-group" ng-repeat="question in questions track by question.ID" style="margin-top:0px;padding-top:0px;margin-bottom:0px;padding-bottom:0px"><div ng-class="{ 'text-muted': question.READ_ONLY == '1' }"><div class="col-md-offset-4 label label-default" ng-if="question.READ_ONLY == '1'" ng-hide="question.FORMHIDE">{{ 'READ_ONLY' | translate }}</div><!-- Subtitle --><div class="col-md-12" ng-hide="question.FORMHIDE" style="height:8px"></div><div class="col-md-offset-4 col-md-8" ng-if="['SUBTITLE'].includes(question.TYPE)" ng-hide="question.FORMHIDE"><h3 tooltip="ID: {{ question.ID }}" tooltip-placement="left">{{question.NAME}}</h3><div ng-bind-html="question.QUESTIONTEXT"></div></div><!-- Feedback & Terminus --><div class="col-md-12" ng-hide="question.FORMHIDE" style="height:8px"></div><div class="col-md-offset-4 col-md-8" ng-if="question.TYPE == 'FEEDBACK' || question.TYPE == 'TERMINUS'" ng-hide="question.FORMHIDE"><div class="panel panel-danger"><div class="panel-heading"><span tooltip="ID: {{ question.ID }}" tooltip-placement="left">{{question.NAME}}</span></div><div class="panel-body"><div ng-bind-html="question.QUESTIONTEXT"></div></div></div></div><!-- Yes/no answers --><label class="col-md-4 control-label" ng-if="question.TYPE == 'YESNO'" ng-hide="question.FORMHIDE" ng-bind-html="question.QUESTIONTEXT" tooltip="ID: {{ question.ID }}" tooltip-placement="right"></label><div class="col-md-8" ng-if="question.TYPE == 'YESNO'" ng-hide="question.FORMHIDE"><div class="col-md-12"><label class="radio-inline"><input type="radio" ng-model="question.FORMANSWER" value="yes">{{ 'YES' | translate }}</label><label class="radio-inline"><input type="radio" ng-model="question.FORMANSWER" value="no">{{ 'NO' | translate }}</label></div></div><!-- Number/text value --><label class="col-md-4 control-label" ng-if="question.TYPE == 'NUMBER' || question.TYPE == 'TEXT' " ng-hide="question.FORMHIDE" ng-bind-html="question.QUESTIONTEXT" tooltip="ID: {{ question.ID }}" tooltip-placement="right"></label><div class="col-md-8" ng-if="question.TYPE == 'NUMBER' || question.TYPE == 'TEXT'" ng-hide="question.FORMHIDE"><input type="text" class="form-control" ng-model="question.FORMANSWER"></div><!-- Date value --><label class="col-md-4 control-label" ng-if="question.TYPE == 'DATE' " ng-hide="question.FORMHIDE" ng-bind-html="question.QUESTIONTEXT" tooltip="ID: {{ question.ID }}" tooltip-placement="right"></label><div class="col-md-8" ng-if="question.TYPE == 'DATE'" ng-hide="question.FORMHIDE"><div class="input-group"><input type="text" id="datePickerItem_{{$index}}" class="form-control" ng-model="question.FORMANSWER" datepicker-popup="dd.MM.yyyy" datepicker-options="calendarOptions" is-open="opened[$index]" starting-day="1" close-text="Sulje" current-text="Tänään" clear-text="Tyhjennä"> <span class="input-group-btn"><button type="button" class="btn btn-default" id="openStartDate" ng-click="openStartDateCalendar($event,$index)"><i class="glyphicon glyphicon-calendar"></i></button></span></div></div><!-- Text value --><label class="col-md-4 control-label" ng-if="question.TYPE == 'TEXTAREA'" ng-hide="question.FORMHIDE" ng-bind-html="question.QUESTIONTEXT" tooltip="ID: {{ question.ID }}" tooltip-placement="right"></label><div class="col-md-8" ng-if="question.TYPE == 'TEXTAREA'" ng-hide="question.FORMHIDE"><textarea class="form-control" ng-model="question.FORMANSWER"></textarea></div><!-- Multichoice --><label class="col-md-4 control-label" ng-if="question.TYPE == 'SELECT'" ng-hide="question.FORMHIDE" ng-bind-html="question.QUESTIONTEXT" tooltip="ID: {{ question.ID }}" tooltip-placement="right"></label><div class="col-md-8" ng-if="question.TYPE == 'SELECT'" ng-hide="question.FORMHIDE"><div class="col-md-12 radio" ng-repeat="answer in question.ANSWERS track by $index"><label ng-if="answer.ANSWER_TEXT != undefined" tooltip="ID: {{ answer.ID }}" tooltip-placement="left"><input type="radio" ng-model="question.FORMANSWER" value="{{answer.ID}}">{{ answer.ANSWER_TEXT }}</label></div></div><label class="col-md-4 control-label" ng-if="question.TYPE == 'CHECK'" ng-hide="question.FORMHIDE" ng-bind-html="question.QUESTIONTEXT" tooltip="ID: {{ question.ID }}" tooltip-placement="right"></label><div class="col-md-8" ng-if="question.TYPE == 'CHECK'" ng-hide="question.FORMHIDE"><div class="col-md-12 checkbox" ng-repeat="answer in question.ANSWERS track by $index"><label ng-if="answer.ANSWER_TEXT != undefined" tooltip="ID: {{ answer.ID }}" tooltip-placement="left"><input ng-disabled="answer.READONLY" type="checkbox" ng-model="answer.FORMANSWER" ng-change="CheckClick(question,answer)" ng-value="answer.ID" value="{{answer.ID}}">{{ answer.ANSWER_TEXT }}</label></div></div><div class="col-md-12" ng-hide="question.FORMHIDE" style="height:8px"></div></div></div><div class="form-group"><div class="col-md-offset-4 col-md-8"><div><button type="button" class="btn btn-default btn-info" ng-click="detailsForm(form.ID)" id="backtodetails">{{ 'BACK_FORM_DETAILS' | translate }}</button> <button id="focusButton" type="button" class="btn btn-default btn-success" ng-click="sendtoEBMEDS(form,questions)">{{ 'SEND_TO_EBMEDS_BUTTON' | translate }}</button></div><div class="margin-top-5"><div><label><input type="checkbox" ng-model="useLiveMode"> {{ 'USE_LIVEDATA' | translate }}</label><div class="alert alert-info">{{ 'USE_LIVEDATA_INFO' | translate}}</div></div></div></div></div><div class="form-group" ng-show="showresponse==true"><div class="col-md-offset-4 col-md-8"><div class="panel panel-default"><div class="panel-heading">{{ 'SEND_TO_EBMEDS_BUTTON_HTML' | translate }}</div><div class="panel-body"><ul style="list-style-type: disc"><li ng-repeat="recommendation in viewFeedback" ng-bind-html="formatRecommendation(recommendation)"></li></ul><div class="alert alert-danger" ng-show="nofeedback==true">{{ 'NO_EBMEDS_DATA' | translate }}</div></div></div></div></div><div class="form-group" ng-show="showrequest==true"><div class="col-md-offset-4 col-md-8"><div class="panel panel-default"><div class="panel-heading">{{ 'EBMEDS_REQUEST_BUTTON' | translate }}</div><div class="panel-body"><pre class="feedback-container">{{ feedbackFromEBMeDSRequest }}</pre></div></div></div></div><div class="form-group" ng-show="showresponse==true"><div class="col-md-offset-4 col-md-8"><div class="panel panel-default"><div class="panel-heading">{{ 'EBMEDS_RESPONSE_BUTTON' | translate }}</div><div class="panel-body"><pre class="feedback-container">{{ feedbackFromEBMeDSResponse }}</pre></div></div></div></div></form></div>